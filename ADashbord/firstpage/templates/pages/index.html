{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}

    <div class="container-fluid py-4">

        <div class="container">
                <div class="row">
                    <!-- Column 1 -->
                    <div class="col-xl-4 col-sm-6 mb-xl-0 mb-4">
                        <div class="card">
                            <div class="card-body p-3">
                                <div class="numbers">
                                    <h2 class="text-sm mb-0 text-capitalize font-weight-bold text-primary">TIME OF TWEET</h2>
                                    {% for time, count, percentage in data %}
                                    <h5 class="font-weight-bolder mb-0">
                                        {{ percentage|upper }}
                                        <span class="text-success text-sm font-weight-bolder">{{ count }}</span>
                                        <span class="text-warning text-sm font-weight-bolder">{{ time }}%</span>
                                    </h5>
                                    <br/>
                                    {% endfor %}
                                    <p class="text-danger">Tweet Count: {{ total_count }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Column 2 -->
                    <div class="col-xl-4 col-sm-6 mb-xl-0 mb-4">
                        <div class="card">
                            <div class="card-body p-3">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold text-primary">Different Age Group</p>
                                    {% for age, count, percentage in age_group %}
                                    <h5 class="font-weight-bolder mb-0">
                                        {{ percentage }}
                                        <span class="text-success text-sm font-weight-bolder">{{ count }}</span>
                                        <span class="text-warning text-sm font-weight-bolder">{{ age}}%</span>
                                    </h5>
                                    <br/>
                                    {% endfor %}
                                    <p class="text-danger">Total Count: {{ total_count_age_group }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Column 3 -->
                    <div class="col-xl-4 col-sm-6 mb-xl-0 mb-4">
                        <div class="card">
                            <div class="card-body p-3">
                                <div class="numbers">
                                    <p class="text-sm mb-0 text-capitalize font-weight-bold text-primary">Sentiment</p>
                                    {% for sentiment, count, percentage in sentiment %}
                                    <h5 class="font-weight-bolder mb-0">
                                        {{ percentage|upper }}
                                        <span class="text-danger text-sm font-weight-bolder">{{ count }}</span>
                                        <span class="text-warning text-sm font-weight-bolder">{{ sentiment }}%</span>
                                    </h5>
                                    <br/>
                                    {% endfor %}
                                    <p class="text-danger">Total Count: {{ total_count_sentiment }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div class="container">
                    <div class="row mt-4">
                        <!-- Column 1 -->
                        <div class="col-lg-7 mb-lg-0 mb-4">
                            <div class="card">
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">
                                        <p class="mb-1 pt-2 text-bold text-primary fs-2 fw-bold">Sentiment Classification</p>
                                        <p id="text1" class="text-container fw-bolder">
                                           * Labeling Sentiments: Classify the sentiment of each text as positive, negative, or neutral.
                                            This can be done using predefined lexicons, machine learning models, or deep learning techniques.
                                            * Machine Learning Models: Use supervised learning algorithms like Logistic Regression, Naive Bayes,
                                            or Support Vector Machines (SVM) to build sentiment classifiers. Ensure you have labeled training data for model training.
                                             * Deep Learning Models: Leverage advanced models like Recurrent Neural Networks (RNNs),
                                            Long Short-Term Memory (LSTM) networks, or Transformer-based models (e.g., BERT)
                                            for more accurate sentiment classification, especially for large and complex datasets.

                                        </p>
                                        <a href="https://github.com/Abhisingh980/Sentiment-analysis.git">
                                        <span id="readMoreless1" class="read-more-less text-success">Read more</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Column 2 -->
                        <div class="col-lg-5">
                            <div class="card h-100 p-3">
                                <div class="overflow-hidden position-relative border-radius-lg bg-cover h-100">
                                    <span class="mask bg-gradient-dark"></span>
                                    <div class="card-body position-relative z-index-1 d-flex flex-column h-100 p-3">
                                        <h5 class="text-white font-weight-bolder mb-4 pt-2">Feature Extraction and Representation</h5>
                                        <p id="text2" class="text-container fw-bolder text-warning">

                                                * Bag of Words (BoW): Represent text data using the Bag of Words model, where each document is represented by a vector of word counts or frequencies.
                                                * TF-IDF: Apply Term Frequency-Inverse Document Frequency (TF-IDF) to weigh the importance of words in the corpus, reducing the impact of commonly occurring words.
                                                * Word Embeddings: Use word embeddings like Word2Vec, GloVe, or contextual embeddings like BERT to capture semantic relationships between words and provide dense vector representations for text.

                                        </p>
                                        <a href="https://github.com/Abhisingh980/Sentiment-analysis.git">
                                        <span id="readMoreless1" class="read-more-less text-success">Read more</span>
                                        </a>                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Column 3 -->
                        <div class="col-lg-10">
                            <div class="card h-100 p-3">
                                <div class="overflow-hidden position-relative border-radius-lg bg-cover h-100" >
                                    <span class="mask bg-gradient-dark"></span>
                                    <div class="card-body position-relative z-index-1 d-flex flex-column p-3">
                                        <h5 class="text-white font-weight-bolder mb-4 pt-2">Visualization and Interpretation:</h5>
                                        <p id="text3" class="text-container fw-bolder text-warning">
                                            Visualize Sentiment Distribution: Use bar charts, pie charts, or histograms to show the distribution of sentiments across the dataset. This helps in understanding the overall sentiment trend.
                                            Word Clouds: Create word clouds for positive and negative sentiments to highlight the most frequently occurring words associated with each sentiment.
                                            Sentiment Over Time: Plot sentiment trends over time using line graphs to identify changes in sentiment patterns and detect any temporal variations or trends.
                                        </p>
                                        <a href="https://github.com/Abhisingh980/Sentiment-analysis.git">
                                        <span id="readMoreless1" class="read-more-less text-success">Read more</span>
                                        </a>                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

      <div class="row mt-4 ml-4">
        <div class="col-lg-14 mb-lg-0 mb-4">
          <div class="card z-index-2">
            <div class="card-body p-3">
                <div class="bg-gradient-dark border-radius-lg py-3 pe-1 mb-3 flex-container">
                  <div class="chart">
                      <img src="data:image/png;base64, {{bar_plot}}" class="p-4 pl-5 char_canvas" height="400" />
                  </div>
                </div>
              <h6 class="ms-2 mt-4 mb-0"> Active Users Sentiment </h6>
              <p class="text-sm ms-2 fs-3 "> (<span class="font-weight-bolder text-danger fs-3">+{{sentiment_percentage}}%</span>) than last week </p>
              <div class="container border-radius-lg">
                <div class="row">
                  <div class="col-3 py-3 ps-0">
                    <div class="d-flex mb-2 ">
                      <p class="text-xs mt-1 mb-0 fw-bold">Country</p>
                    </div>
                    <h4 class="font-weight-bolder">{{data_avg.Country_Count}}</h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-60" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="col-3 py-3 ps-0">
                    <div class="d-flex mb-2">

                      <p class="text-xs mt-1 mb-0 font-weight-bold">Avg Population</p>
                    </div>
                    <h4 class="font-weight-bolder"> {{data_avg.Total_Population_Avg|floatformat:2 }}</h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-90" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="col-3 py-3 ps-0">
                    <div class="d-flex mb-2">
                      <p class="text-xs mt-1 mb-0 font-weight-bold">Avg Area</p>
                    </div>
                    <h4 class="font-weight-bolder">{{data_avg.Total_Land_Area_Avg|floatformat:2 }}</h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-30" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="col-3 py-3 ps-0">
                    <div class="d-flex mb-2">
                      <p class="text-xs mt-1 mb-0 font-weight-bold">Population Density Avg</p>
                    </div>
                    <h4 class="font-weight-bolder">{{data_avg.Total_Population_Density_Avg|floatformat:2 }}</h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-50" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-14 mt-4">
          <div class="card z-index-2">
            <div class="card-header pb-0">
              <h6>Acording to country sentiment</h6>
              <p class="text-sm">
                <i class="fa fa-arrow-up text-success"></i>
                <span class="font-weight-bold">4%  negative more</span> in 2024
              </p>
            </div>
            <div class="bg-gradient-dark border-radius-lg py-3 pe-1 mb-3 flex-container">
              <div class="chart">
                  <img src="data:image/png;base64, {{histo}}" class="p-4 pl-5 char_canvas" height="400" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row my-4 d-flex py-1">
        <div class="col-lg-12 col-md-6 mb-md-0 mb-4">
          <div class="card">
            <div class="card-header pb-0">
              <div class="row">
                <div class="col-lg-6 col-7">
                  <h6>Data</h6>
                  <p class="text-sm mb-0">
                    <i class="fa fa-check text-info" aria-hidden="true"></i>
                    <span class="font-weight-bold ms-1">{{number}} done</span> this month
                  </p>
            </div>
            <div>
            <form method="POST" action="{% url 'index' %}" enctype="multipart/form-data">
              {% csrf_token %}
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">No of Rows</label>
                    <input type="text" class="form-control" id="exampleFormControlTextarea1" name="rows" placeholder="Enter no of rows 1-10">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
            </form>
            </div>
            <div class="card-body px-0 pb-2">
              <div class="table-responsive">
                <table class="table align-items-center mb-0">
                  <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Given Text</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Selected Text</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Sentiment</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Completion</th>
                    </tr>
                  </thead>
                  <tbody>
                      {% for text,selected_text,sentiment in train_data %}
                    <tr>
                      <td>
                        <div class="d-flex px-2 py-1">
                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">{{text}}</h6>
                          </div>
                        </div>
                      </td>
                      <td>
                          <div class="d-flex px-2 py-1">
                            <div class="d-flex flex-column justify-content-center">
                              <h6 class="mb-0 text-sm">{{selected_text}}</h6>
                            </div>
                      <td class="align-middle text-center text-sm">
                        <span class="badge badge-sm bg-gradient-success">{{sentiment}}</span>
                      </td>
                      <td class="align-middle">
                        <div class="progress-wrapper w-75 mx-auto">
                            {% if sentiment == 'positive' %}
                          <div class="progress-info">
                            <div class="progress-percentage">
                              <span class="text-xs font-weight-bold">90%</span>
                            </div>
                          </div>
                          <div class="progress">
                            <div class="progress-bar bg-gradient-info w-60" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                          {% elif sentiment == 'negative' %}
                            <div class="progress-info">
                                <div class="progress-percentage">
                                <span class="text-xs font-weight-bold">30%</span>
                                </div>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-gradient-danger w-30" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            {% else %}
                            <div class="progress-info">
                                <div class="progress-percentage">
                                <span class="text-xs font-weight-bold">60%</span>
                                </div>
                            <div class="progress">
                                <div class="progress-bar bg-gradient-warning w-50" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            {% endif %}
                        </div>
                      </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

      </div>

      {% include "includes/footer.html" %}

    </div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block scripts %}

  <script src="{% static 'js/plugins/chartjs.min.js' %}"></script>


{% endblock scripts %}
